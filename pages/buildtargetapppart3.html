<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <title>JavaScript/2099 - Learn how to repopulate the DOM</title>
</head>
<body>

    <!-- NAVIGATION MODAL CODE -->
    <div class="info-modal-show" id="info-modal-show">
        <div class="modal-content">
            <div class="modal-content-left">
                <button id="modal-close-button" class="modal-close-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
                <div class="modal-title"></div>
            
            </div>
            <div id ="modal-content-right" class="modal-content-right">
            <!-- TEXT GENERATED IN SCRIPT.JS -->
            </div>
        </div>
    </div>

    <!-- BUILD MODAL EXAMPLE -->
    <div id="build-modal-show" class="build-modal-show"> 
        <div class="build-modal-example-content">
                <div class="build-modal-example-navbar">
                    <button id="build-modal-close-button" class="build-modal-close-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
                </div>
                <div id="modal-content-section" class="modal-content-section">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                </div>
        </div>
    </div>

    <!-- BUILD MODAL EXAMPLE END -->

    <div class="full-content-div"> <!-- Full Content Div-->
        <nav id="nav" class="nav" > <!-- Navigation Bar -->
            <div class="nav-header">
            <div>
                <a href="../index.html"><h1>JavaScript/2099</h1></a>
            </div>
            <div class="nav-info-links">
                <div class="nav-info-individual-link">
                    <a href="http://www.twitter.com/TheJackForge" target="new" class="info-twitter-button"><svg class="envelope-svg" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg></a>
                </div>
            
                <div class="nav-info-individual-link">
                    <button id="info-show-modal-button" class="info-show-modal-button"><svg class="question-svg" id="info-modal" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></button>
                    </svg>
                </div>

            </div>
            </div>

            <button id="projects-button" class="projects-btn">PROJECTS</button>
            
            <ul id="project-list" class="projects-ul-closed">
                <!-- Generated by Script.JS -->
            </ul>
        
        </nav>
    <div class="content-container" id="content-container">
            
        <div id="main" class="main-content">
            <div id="main-content-header" class="main-content-header">
                <h1>API Usage (Part 3)</h1> 
            </div>

    <!-- BUILD TARGET OPEN SOURCE APP PROJECT HTML START -->

    <div id="smart-phone-container" class="smart-phone-container">
        <div class="top-bezel-smartphone"></div>
        <!-- DIGITAL CLOCK APP START -->
        <div class="digital-clock-app-container" id="digital-clock-app-container">
            <div class="current-time-clock" id="current-time-clock"></div>
            <div class="current-date-clock" id="current-date-clock"></div>
        </div>
        <!-- DIGITAL CLOCK APP END -->
        <!-- TARGET OPEN SOURCE APP START -->
        <div class="target-app-container" id="target-app-container">
            <div class="target-app-inner-container">
                <div id="target-landing-page" class="target-landing-page">
                    <div class="target-landing-page-title">
                        <p>OpenSource</p>
                    </div>
                    <div class="target-landing-page-logo">
                        <i class="fas fa-people-arrows fa-6x"></i>
                        <ul>
                            <li>No personal information stored on file.</li>
                            <li>Payments made exclusively in BTC.</li>
                            <li>OpenSource is not responsible or liable if you are charged criminally.</li>
                        </ul>
                    </div>              
                </div>
                <!-- SPINNER CODE START -->
                <div id="target-spinner-container" class="target-spinner-container">
                    <div class="target-spinner">
                        <i class="fas fa-sync fa-6x"></i>
                    </div>
                    <p id="target-spinner-text" class="target-spinner-text"></p>
                </div>
                <!-- SPINNER CODE END -->
                <!-- TARGET FOUND CONTAINER START -->
                <div id="target-found-container" class="target-found-container"></div>
                <!-- TARGET FOUND CONTAINER END -->
            </div>
            <div class="target-btn-container">
                <button class="find-new-target-btn" id="find-new-target-btn">FIND A DEVELOPER</button>
            </div>       
        </div>  
        <!-- TARGET OPEN SOURCE APP END     -->
        <div id="app-slider" class="app-slider">
            <div class="app-slider-content"><i class="fas fa-globe fa-4x"></i></div>
        </div>
        <div id="home-screen-app-container" class="home-screen-app-container">
            <ul id="home-screen-app-list" class="home-screen-app-list faded-out">
                                <!-- LIST ELEMENTS GENERATED BY JAVASCRIPT -->                
            </ul>
        </div>            
        <button id="smart-phone-home-button" class="smart-phone-home-button-b"></button>
        <div class="bottom-bezel-smartphone"></div>
    </div>



    <!-- BUILD TARGET OPEN SOURCE APP PROJECT HTML END -->

            <div class="project-main-container" id="project-main-container">
                <div class="project-navigation">
                        <ul class="project-navbar">
                            <li class="project-li-summary active"><button id="project-summary-button">SUMMARY</button></li>
                            <li class="project-li-html"><button id="project-html-button">HTML</button></li>
                            <li class="project-li-css"><button id="project-css-button">CSS</button></li>
                            <li class="project-li-javascript"><button id="project-javascript-button">JAVASCRIPT</button></li>
                        </ul>
                        
                </div>
                <div class="project-inner-container">
                    <div class="project-summary active" id="project-summary">
                        <p>This is the final section of this project and we are finally at the point where we will make our API call and use all of the data returned from it!</p>
                        <p>While there are several different ways to make API calls, I opted to use the async/await method which I feel is one of the better ones to use without using any external libraries.</p>
                        <p>If you're new to APIs, it still may a little over your head, but I highly suggest checking out the tool called <a href="https://www.postman.com/"><span class="ide-purple">Postman</span></a>. It makes working with APIs much easier and enjoyable.</p>
                    </div>       
                    <div class="project-html" id="project-html">
                        <div class="ide-mockup">
                            <img src="/img/targetapppart3/target-app-part-3-html-001.png">
                        </div>             
                        <p>There is only 1 thing we need to add to the HTML and that is a div with the id and class of <span class="ide-purple">target-found-container</span>. It can be placed right after the <span class="ide-purple">target-spinner-container</span> in the HTML.</p>
                        <p>This div will appear when the <span class="ide-purple">target-spinner-container</span> is removed.</p>

                    </div>
                    <div class="project-css" id="project-css">
                      
                        <div class="ide-mockup">
                            <img src="/img/targetapppart3/target-app-part-3-css-001.png">
                        </div>
                        <p>The CSS for this part of the project is very similar to what we did in the spinner section. The class of <span class="ide-purple">.target-found-container</span> will be used for positioning and placing the div before it is called. The main attributes being the z-index and opacity. The transition for opacity is what will cause the fade in effect to play out over 1.5 seconds.</p>
                        <p>When <span class="ide-purple">.active</span> is added to the <span class="ide-purple">.target-found-container</span> class, it will change the z-index and opacity causing it to appear.</p>
                        <div class="ide-mockup">
                            <img src="/img/targetapppart3/target-app-part-3-css-002.png">
                        </div>
                        <p>These 2 settings are basically used for how the image will appear on the screen and how the paragraph elements look when they are filled out with the API information.</p>                      
                    </div>
                    <div class="project-javascript" id="project-javascript">
                     <div class="ide-mockup">
                         <img src="/img/targetapppart3/target-app-part-3-javascript-001.png">
                     </div>
                    <p>To make the API call to the Random User app we are going to use the async/await method. I feel it is probably the most effective way to do this without adding on any external libraries. As you get more comfortable with APIs, you will find many different methods to make calls and in most cases, you will have to use different ways (headers) to get to the information.</p>
                    <p>With this being a very simple API to work with, I do recommend checking out the actual <a href="https://randomuser.me/documentation"><span class="ide-green">documentation</span></a> to get more comfortable with it.</p>
                     <div class="ide-mockup">
                         <img src="/img/targetapppart3/target-app-part-3-javascript-002.png">
                     </div>
                     <p>After getting the initial call set up, try to play around with the API a little bit. Use the above settings with console.log and see what returns. These are all of the things you have access to, and as you become more used to using APIs, you will find many more ways to use this information. For this project, I am only adding the first result [0] but you can make calls for multiple users, specific users, etc.</p>
                     <div class="ide-mockup">
                         <img src="/img/targetapppart3/target-app-part-3-javascript-003.png">
                     </div>
                     <p>Now that we have the API call set up, let's move the location of the <span class="ide-purple">targetApp( )</span> call inside of the second setTimeout method. This will allow the search to play out before the call is made, preventing any overlap of the divs.</p>
                     <div class="ide-mockup">
                         <img src="/img/targetapppart3/target-app-part-3-javascript-004.png">
                     </div>
                     <p>This is where we will create the main function of the whole project, using the results returned from the API and using that information to fill out our results page in our app.</p>
                     <p>The first line is the creation of the function and you may notice that we are passing a parameter into it <span class="ide-purple">(target)</span>. If you look at the last line of the API call function (first part of this JS section), you will notice that <span class="ide-purple">targetAppResults</span> has a <span class="ide-purple">data</span> parameter passed in. That's exactly what (target) is, just under a different name. We are basically taking the information we got from the <span class="ide-purple">data</span> and bringing it with us into the <span class="ide-purple">targetAppResults</span> function.</p>
                     <p>Now we will create a variable for the <span class="ide-purple">target-found-container</span> called <span class="ide-purple">targetFoundDiv</span>. This is div where the information will be populated.</p>
                     <p>The next line can be a little tricky to understand, but when it clicks it makes perfect sense. All this <span class="ide-purple">targetInfo</span> variable is, is basically a shortcut to get to the information we need. Instead of typing out <span class="ide-purple">target.results[0].name.first</span> to get the persons first name, we are merely assigning the first part of the call to <span class="ide-purple">targetInfo</span>. So now we would only have to type in <span class="ide-purple">targetInfo.name.first</span>. They would both work the same but this ends up looking nicer and a little more organized.</p>
                     <p>For the next 5 variables we are going to pull out information from the data that the API returned on the call. This will give us the random person's firstName, lastName, photo, addressNumber, streetNumber, and age.</p>
                     <p>This following IF statement is me making an adjustment to what the API was returning. The API has people's ages set really high in some cases when the person's photo looks much younger. All I did here was -10 years if the person was aged over 50, and 20 years if the person was over 70. It definitely can still be tweaked but I just wanted to show you that you can still change this data if you would like.</p>
                     <p>The next variable is the hiring cost in BitCoin of the developer that you searched. This is not returned from the API and as you can see, I just used a Math.random function to get a random number. I console.log'd what that number would be to fixed decimal place of 4 to bring it in line with actual BitCoin values.</p>
                     <p>Finally this line will make the <span class="ide-purple">targetFoundDiv</span> active and appear on the screen. The setTimeout in the initial eventListener function will remove the searching div and this one will replace it.</p>
                     <p>Now we are going to build out what the innerHTML of <span class="ide-purple">targetFoundDiv</span> will be by using template literals. We will use the variables we created to pull the information from the API to fill out this section. You can add new variables if you would like, or remove ones you do not want added. </p>
                     <div class="ide-mockup">
                         <img src="/img/targetapppart3/target-app-part-3-javascript-005.png">
                     </div>
                     <p>There is one thing we need to add in the <span class="ide-purple">smartPhoneHomeBtn</span> eventListener function and that would be the call for <span class="ide-purple">targetAppRefresh( )</span>. We have not built this function yet but all it basically will do is rebuild the <span class="ide-purple">target-app-container</span> to how it looked when we opened the application. This prevents the screen from sitting static with the random person we searched on it if we "close" and reopened the app.</p>
                     <div class="ide-mockup">
                         <img src="/img/targetapppart3/target-app-part-3-javascript-006.png">
                     </div>
                    <p>The last thing we will build for this app is the <span class="ide-purple">targetAppRefresh( )</span> function. First create a variable for the <span class="ide-purple">target-app-container</span> called <span class="ide-purple">targetAppDiv</span>.</p>
                    <p>Now we are going to use a template literal to rebuild the innerHTML of the <span class="ide-purple">targetAppDiv</span>. It may look like a lot of code, but all you have to do is go to the HTML and copy/paste the code from the <span class="ide-purple">target-app-inner-container</span> div. This will cause the page to rebuild itself when the home button is clicked, essentially resetting the app to the landing page.</p>
                    <p>There you have it, our developer search project is complete!. This is a really nice basic API to work with and it gives you a lot of data to modify however you would like. I suggest you try building something on your own that uses it and see what kind of interesting things you can create.</p>
                    </div>
                </div>
            </div>
        </div>

        </div>
    </div>
    <script src="../javascript/navdb.js"></script>
    <script src="../javascript/smartphone7.js"></script>
</body>
</html>